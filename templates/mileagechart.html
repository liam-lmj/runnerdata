{% extends "layout.html" %}


{% block title %}
    Weekly Mileage Log
{% endblock %}


{% block body %}

{% include "banner.html" %}

    <h1>Weekly Mileage Log</h1>

    <select class="drop-down" id="week" name="Week">
            {% for week in weekly_mileage %}
                <option value="{{ week.week }}">{{ week.week }}</option>
            {% endfor %}
    </select>
    <button class="button" onclick="parent.window.location.href='/mileagelog'">Grid View</button> 
    <div class="chartcontainer">
        <div id="bar" class="bar"></div>
        <div id="pie" class="pie"></div>
    </div>

    <table class="card-table" id="mileageTable"></table>

    <script>
        const barData = {{ bar_json | safe }};
        const pieData = {{ pie_json | safe }};
        const weekYear = "{{ week | safe }}";
        const mileageData = {{ weekly_mileage | tojson }};
    </script>

    <script src="./static/mileagechart.js"></script>
    <script>
        initializeCharts(barData, pieData, weekYear, mileageData);
    </script>

{% endblock %}